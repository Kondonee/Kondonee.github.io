<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0,width=device-width">
		
    <title>Chapter 08 - Project 01</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
	<link href="css/styles.css" rel="stylesheet" />
    <script src="js/data.js" type="text/JavaScript"></script>
    <script src="js/functions.js" type="text/JavaScript"></script>
</head>

<body>
    <table class="table-fill">
        <thead>
            <tr>
                <th colspan="2">Product</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            <script>
            var subtotal = 0.0;
            var tax = 0.0;
            var shippingThreshold= 1000;
            for(let i= 0; i< cart.length; i++) {
                const item = cart[i];
                const total = calculateTotal(item.quantity, item.price);
                 subtotal+=total
                outputCartRow(item, total);
            }
            tax = subtotal * tax_rate
            var shipping = shippingThreshold > subtotal ? 0.0 : 40.0;
            var grandtotal = subtotal + tax + shipping

        </script>  
        
        <tr class="totals">
            <td colspan="4"> Subtotal </td>
            <td><script>document.write(subtotal.toFixed(2))</script></td>
        </tr>

        <tr class="totals">
            <td colspan="4"> Tax </td>
            <td><script>document.write(tax.toFixed(2))</script></td>
        </tr>

        <tr class="totals">
            <td colspan="4"> Shipping </td>
            <td><script>document.write(shipping.toFixed(2))</script></td>
        </tr>

        <tr class="totals">
            <td colspan="4"><b>Grand Total</b></td>
            <td><b><script>document.write(grandtotal.toFixed(2))</script></b></td>
          </tr>
        
        </tbody>
      </table>
</body>
</html>